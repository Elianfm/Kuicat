# ============================================
# KUICAT - Configuración de la Aplicación
# ============================================

spring.application.name=Kuicat

# ============================================
# SERVIDOR
# ============================================
server.port=8741

# ============================================
# BASE DE DATOS SQLite
# ============================================
# El archivo se crea en la carpeta del usuario
spring.datasource.url=jdbc:sqlite:${user.home}/.kuicat/kuicat.db?journal_mode=WAL&busy_timeout=5000
spring.datasource.driver-class-name=org.sqlite.JDBC

# Pool de conexiones HikariCP - SQLite con WAL soporta concurrencia de lectura
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=30000

# Dialecto de Hibernate para SQLite
spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect

# Crear tablas automáticamente (update = solo añade, no borra)
spring.jpa.hibernate.ddl-auto=update

# Mostrar SQL en consola (solo desarrollo)
spring.jpa.show-sql=false

# ============================================
# CORS (para conectar con Angular en desarrollo)
# ============================================
# Se configura en código para mayor control

# ============================================
# LOGGING
# ============================================
logging.level.root=INFO
logging.level.com.kuicat=DEBUG
logging.level.org.hibernate.SQL=WARN

# ============================================
# KUICAT - Configuración personalizada
# ============================================
# Carpeta de música por defecto (el usuario la puede cambiar)
kuicat.music.default-path=${user.home}/Music
# Extensiones de archivo soportadas
kuicat.music.extensions=mp3,mp4,m4a,flac,wav,ogg
# Tamaño máximo de escaneo (0 = sin límite)
kuicat.music.max-files=0

# ============================================
# SPRING AI (OpenAI)
# ============================================
# API Key se gestiona en SettingsService (cifrada en BD)
# Deshabilitamos auto-configuración para usar cliente manual
spring.ai.openai.api-key=not-used
