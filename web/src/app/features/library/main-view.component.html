<div class="main-view">
  <!-- Controles flotantes de sidebars -->
  <app-left-sidebar-controls [(activeView)]="leftSidebar" />
  <app-right-sidebar-controls [(activeView)]="rightSidebar" />
  
  <!-- Elemento de video/audio oculto - siempre presente para reproducción -->
  <video 
    #mediaPlayer
    class="media-player"
    [class.visible]="isVideo() && currentSong() && !isPlayingRadio()"
    [class.audio-only]="!isVideo() || isPlayingRadio()"
    playsinline
    (click)="togglePlay()"
  ></video>
  
  <!-- Cover display - cuando es audio, no hay canción, o hay anuncio de radio -->
  @if (!isVideo() || !currentSong() || isPlayingRadio()) {
    <div class="cover-display" [class.radio-mode]="isPlayingRadio()" (click)="togglePlay()">
      <img [src]="coverUrl()" [alt]="songTitle()" class="cover-image" [class.radio-glow]="isPlayingRadio()">
      @if (isPlayingRadio()) {
        <div class="radio-overlay">
          <span class="material-icons radio-icon">podcasts</span>
          <span class="radio-text">Radio Kuicat</span>
        </div>
      }
    </div>
  }
</div>
